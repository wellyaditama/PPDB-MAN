var $=jQuery.noConflict();!function(a){var n={ready:function(){wow=new WOW({mobile:!1}),wow.init(),a("#btnLogin").click(function(){a("#fmLogin").ajaxForm({dataType:"json",beforeSubmit:function(){a("input").each(function(){a(this).trigger("blur")})},success:function(a,t){a.login?window.location=a.url:(n.notify(a.msg),n.reloadSecure())}}),a("#fmLogin").submit()}),a("#fmLogin").find("input").keypress(function(n){13==n.which&&(a(this).blur(),a("#btnLogin").click())}),a("#kd_prop").change(function(){"X"==a(this).val()?(a("#kd_jenjang").hide(),a("#chart1").show(),a("#chart2").hide()):(a("#chart1").hide(),a("#chart2").show(),a("#kd_jenjang").show(),n.createBar())}),a("#kd_jenjang").change(function(){n.createBar()}),a("#kd_prop").change();var t=a("#carousel"),e=t.find(".carousel-item:first").find("[data-animation ^= 'animated']");t.carousel({interval:7e3}),a("#carousel").on("slide.bs.carousel",function(t){n.doAnimation(a(t.relatedTarget).find("[data-animation ^= 'animated']"))}),n.reloadSecure(),n.jump(),a("#tentang").length>0&&(a("a.nav-link").on("click",function(n){res=a(this).attr("href").split("#"),hash="#"+res[1],a(hash).length>0&&(n.preventDefault(),scroll=a(hash).offset().top+a("body").scrollTop(),window.location.hash=hash,document.body.scrollTop=scroll-100,a(".nav-link").closest(".nav-item").removeClass("active"),a("#link-"+res[1]).closest(".nav-item").addClass("active"))}),n.doAnimation(e),n.createPie())},notify:function(n){var t;a("body").find(".notify").length<=0?(t=a("<div>",{class:"alert alert-danger notify"})).prependTo(a("body")):t=a("body").find(".notify"),t.html(n),t.prepend(a("<span>",{class:"fa fa-info-circle"}).css("margin-right","10px")),setTimeout(function(){t.addClass("show")},10),setTimeout(function(){t.removeClass("show")},5e3)},reloadSecure:function(){var n=baseURL+"login/secure?sid="+Math.random();a("#siimage").attr("src",n)},doAnimation:function(n){n.each(function(){var n=a(this),t=n.data("animation"),e=n.data("delay");n.attr("style","-webkit-animation-delay:"+e+";animation-delay:"+e),n.addClass(t).one("webkitAnimationEnd animationend",function(){n.removeClass(t)})})},jump:function(n){res=window.location.href.split("#"),hash="#"+res[1],a(hash).length>0&&(scroll=a(hash).offset().top+a("body").scrollTop(),a("html, body").animate({scrollTop:scroll-115}),a(".nav-link").closest(".nav-item").removeClass("active"),a("#link-"+res[1]).closest(".nav-item").addClass("active"))},createPie:function(){for(var n=["pie1","pie2","pie3","pie4","pie5","pie6"],t=0;t<n.length;t++){var e=document.getElementById(n[t]);new Chart(e,{type:"doughnut",data:{datasets:[{data:chartData[t].data,backgroundColor:["#0abb87","#5d78ff","#ffb822"],borderWidth:1}],labels:chartLabel},options:{legend:{display:!0,position:"right"},animation:{animateScale:!0,animateRotate:!0}}});a("#"+n[t]).parent().find("h6").html(chartData[t].title)}},createBar:function(){var n=a("#kd_prop").val(),t=a("#kd_jenjang").val();a.ajax({dataType:"json",type:"POST",url:baseURL+"api/v1/chart",data:{kd_jenjang:t,kd_prop:n},success:function(n){a("#bar-chart").height(n.height),a("#bar-chart").find("canvas").remove(),a("#bar-chart").append(a("<canvas>"));var t=a("#bar-chart").find("canvas");new Chart(t,{type:"horizontalBar",data:{labels:n.prop,datasets:[{label:"Mandiri",backgroundColor:"#0abb87",borderWidth:1,data:n.pelaksana},{label:"Sekolah Lain",backgroundColor:"#5d78ff",borderWidth:1,data:n.gabung},{label:"UNKP",backgroundColor:"#ffb822",borderWidth:1,data:n.non}]},options:{maintainAspectRatio:!1,legend:{position:"bottom"},scales:{xAxes:[{stacked:!0,ticks:{beginAtZero:!0,steps:10,max:100}}],yAxes:[{stacked:!0}]}}})}})}};a(document).ready(function(){n.ready()})}(jQuery);